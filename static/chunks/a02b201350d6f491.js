(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39380,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(76009);e.i(61086);var l=e.i(27215);e.i(36180);var i=e.i(98925),d=e.i(97815),o=e.i(18566);function n(){let{user:n}=(0,d.useAuth)(),h=(0,o.useRouter)(),[u,p]=(0,s.useState)([{id:"1",title:"Home Page",slug:"/",status:"published",lastModified:"2024-03-20"},{id:"2",title:"Sports Betting",slug:"/sports",status:"published",lastModified:"2024-03-18"},{id:"3",title:"Live Matches",slug:"/live",status:"published",lastModified:"2024-03-19"},{id:"4",title:"User Profile",slug:"/profile",status:"draft",lastModified:"2024-03-15"},{id:"5",title:"Terms & Conditions",slug:"/terms",status:"published",lastModified:"2024-01-10"},{id:"6",title:"Promotion: Welcome Bonus",slug:"/promo/welcome",status:"inactive",lastModified:"2024-02-28"}]),[g,m]=(0,s.useState)(""),[b,f]=(0,s.useState)(null),[j,y]=(0,s.useState)(!1),[N,v]=(0,s.useState)([]),[w,D]=(0,s.useState)(!1),[F,A]=(0,s.useState)(!1),[k,S]=(0,s.useState)({title:"",slug:""}),[P,C]=(0,s.useState)([]);(0,s.useEffect)(()=>{n&&(async()=>{let{getDoc:t,doc:s}=await e.A(27510),a=await t(s(r.db,"users",n.uid));if(a.exists()){let e=a.data();if("mohemad123hsak@gmail.com"!==n.email&&!e.adminPermissions?.manage_content)return h.push("/admin")}else if("mohemad123hsak@gmail.com"!==n.email)return h.push("/admin")})()},[n,h]),(0,s.useEffect)(()=>{b&&_(b.id)},[b]);let _=async e=>{let t=(0,i.query)((0,i.collection)(r.db,"page_files"),(0,i.where)("pageId","==",e)),s=await (0,i.getDocs)(t),a=[];s.forEach(e=>{a.push({id:e.id,...e.data()})}),v(a)},M=async e=>{if(!e.target.files?.length||!b)return;D(!0);let t=Array.from(e.target.files);try{let e=t.map(async e=>{let t=(0,l.ref)(r.storage,`pages/${b.id}/${e.name}`);await (0,l.uploadBytes)(t,e);let s=await (0,l.getDownloadURL)(t);return(0,i.addDoc)((0,i.collection)(r.db,"page_files"),{pageId:b.id,name:e.name,url:s,type:e.type,size:e.size,createdAt:new Date().toISOString()})});await Promise.all(e),_(b.id)}catch(e){console.error("Upload failed",e)}finally{D(!1)}},I=async(e,t)=>{if(b)try{let s=(0,l.ref)(r.storage,`pages/${b.id}/${t}`);await (0,l.deleteObject)(s),await (0,i.deleteDoc)((0,i.doc)(r.db,"page_files",e)),_(b.id)}catch(e){console.error("Delete failed",e)}},T=async(e,t)=>{if(confirm(`Are you sure you want to delete the page "${t}"? This action cannot be undone.`))try{p(t=>t.filter(t=>t.id!==e)),alert("Page deleted successfully from the kingdom.")}catch(e){console.error("Failed to delete page",e)}},$=async()=>{if(k.title&&k.slug){D(!0);try{let e=Date.now().toString(),t={id:e,title:k.title,slug:k.slug.startsWith("/")?k.slug:`/${k.slug}`,status:"draft",lastModified:new Date().toISOString().split("T")[0]},s=P.map(async t=>{let s=(0,l.ref)(r.storage,`pages/${e}/${t.name}`);await (0,l.uploadBytes)(s,t);let a=await (0,l.getDownloadURL)(s);return(0,i.addDoc)((0,i.collection)(r.db,"page_files"),{pageId:e,name:t.name,url:a,type:t.type,size:t.size,createdAt:new Date().toISOString()})});await Promise.all(s),p(e=>[...e,t]),A(!1),S({title:"",slug:""}),C([]),alert("New page has been scribed into the kingdom scrolls!")}catch(e){console.error("Failed to add page",e)}finally{D(!1)}}};return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-white mb-1 font-pharaoh tracking-wider",children:"Page Manager"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage your website's static and dynamic pages."})]}),(0,t.jsxs)("button",{onClick:()=>A(!0),className:"bg-[#D4AF37] hover:bg-[#FFD700] text-black font-bold py-2.5 px-6 rounded-lg shadow-[0_0_20px_rgba(212,175,55,0.3)] transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"+"})," Add New Page"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(c,{title:"Total Pages",value:"24",icon:"ðŸ“„"}),(0,t.jsx)(c,{title:"Published",value:"18",icon:"âœ…"}),(0,t.jsx)(c,{title:"Drafts",value:"6",icon:"ðŸ“"})]}),(0,t.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#D4AF37]/20 rounded-xl overflow-hidden backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-[#D4AF37]/20 flex flex-col md:flex-row justify-between gap-4",children:[(0,t.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-lg",children:"ðŸ”"}),(0,t.jsx)("input",{type:"text",placeholder:"Search pages by title or slug...",className:"w-full bg-[#151515] border border-[#D4AF37]/10 rounded-lg py-2 pl-10 pr-4 text-white focus:outline-none focus:border-[#D4AF37] transition-colors",value:g,onChange:e=>m(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("select",{className:"bg-[#151515] border border-[#D4AF37]/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#D4AF37]",children:[(0,t.jsx)("option",{children:"All Status"}),(0,t.jsx)("option",{children:"Published"}),(0,t.jsx)("option",{children:"Draft"}),(0,t.jsx)("option",{children:"Inactive"})]}),(0,t.jsx)("button",{className:"px-4 py-2 border border-[#D4AF37]/20 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:"Filter"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-[#151515] text-[#D4AF37] uppercase text-xs font-bold tracking-wider",children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Page Title"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Slug"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Last Modified"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-[#D4AF37]/10",children:u.filter(e=>e.title.toLowerCase().includes(g.toLowerCase())).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded bg-[#1a1a1a] border border-[#D4AF37]/10 flex items-center justify-center text-xl",children:"ðŸ“„"}),(0,t.jsx)("span",{className:"font-medium text-gray-100 group-hover:text-[#FFD700] transition-colors",children:e.title})]})}),(0,t.jsx)("td",{className:"px-6 py-4 font-mono text-sm text-gray-400",children:e.slug}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)(x,{status:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-400",children:e.lastModified}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>{f(e),y(!0)},className:"p-2 text-gray-400 hover:text-[#D4AF37] transition-colors",title:"Edit Files",children:"âœï¸"}),(0,t.jsx)(a.default,{href:e.slug,className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",title:"Preview",target:"_blank",children:"ðŸ‘ï¸"}),(0,t.jsx)("button",{onClick:()=>T(e.id,e.title),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete Page",children:"ðŸ—‘ï¸"})]})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-[#D4AF37]/20 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Showing 1 to 6 of 24 results"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 border border-[#D4AF37]/20 rounded-lg text-gray-400 disabled:opacity-50",disabled:!0,children:"Previous"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-[#D4AF37]/10 border border-[#D4AF37]/30 text-[#FFD700] rounded-lg",children:"1"}),(0,t.jsx)("button",{className:"px-4 py-2 border border-[#D4AF37]/20 rounded-lg text-gray-400 hover:bg-white/5 transition-colors",children:"2"}),(0,t.jsx)("button",{className:"px-4 py-2 border border-[#D4AF37]/20 rounded-lg text-gray-400 hover:bg-white/5 transition-colors",children:"3"}),(0,t.jsx)("button",{className:"px-4 py-2 border border-[#D4AF37]/20 rounded-lg text-gray-400 hover:bg-white/5 transition-colors",children:"Next"})]})]})]}),j&&b&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#D4AF37]/30 rounded-2xl w-full max-w-2xl overflow-hidden shadow-[0_0_50px_rgba(212,175,55,0.15)]",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-[#D4AF37]/20 flex justify-between items-center bg-[#111]",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-[#FFD700] font-pharaoh tracking-widest",children:["Edit Assets: ",b.title]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Manage documents and media for this page."})]}),(0,t.jsx)("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-white text-2xl",children:"Ã—"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-[#D4AF37]/20 rounded-xl p-8 text-center hover:border-[#D4AF37]/40 transition-colors group",children:[(0,t.jsx)("input",{type:"file",id:"file-upload",className:"hidden",onChange:M,disabled:w,multiple:!0}),(0,t.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer space-y-3 block",children:[(0,t.jsx)("div",{className:"text-4xl group-hover:scale-110 transition-transform",children:w?"â³":"ðŸ“¤"}),(0,t.jsx)("div",{className:"text-sm font-medium text-gray-300",children:w?"Uploading to Kingdom...":"Click to upload or drag and drop"}),(0,t.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-tighter",children:"Images, PDFs, or Assets (Max 10MB)"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-xs font-black text-[#D4AF37] uppercase tracking-[0.2em]",children:"Attached Files"}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto pr-2 space-y-2 custom-scrollbar",children:0===N.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-600 italic text-sm",children:"No files attached to this page yet."}):N.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/5 hover:border-[#D4AF37]/20 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 overflow-hidden",children:[(0,t.jsx)("span",{className:"text-xl text-[#D4AF37]",children:"ðŸ“„"}),(0,t.jsxs)("div",{className:"overflow-hidden",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-200 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-[10px] text-gray-500",children:[(e.size/1024).toFixed(1)," KB â€¢ ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg transition-colors text-xs",children:"View"}),(0,t.jsx)("button",{onClick:()=>I(e.id,e.name),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors text-xs",children:"Delete"})]})]},e.id))})]})]}),(0,t.jsx)("div",{className:"p-4 bg-[#111] border-t border-[#D4AF37]/20 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>y(!1),className:"px-6 py-2 bg-[#D4AF37] text-black font-bold rounded-lg hover:shadow-[0_0_15px_#D4AF37]/40 transition-all uppercase text-xs",children:"Finished"})})]})}),F&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#D4AF37]/30 rounded-2xl w-full max-w-xl overflow-hidden shadow-[0_0_50px_rgba(212,175,55,0.15)]",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-[#D4AF37]/20 flex justify-between items-center bg-[#111]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[#FFD700] font-pharaoh tracking-widest",children:"Scribe New Page"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Initialize a new section of your kingdom."})]}),(0,t.jsx)("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-white text-2xl",children:"Ã—"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-[#D4AF37] uppercase tracking-wider mb-2",children:"Page Title"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g. Ancient Secrets",className:"w-full bg-white/5 border border-[#D4AF37]/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#D4AF37]",value:k.title,onChange:e=>S({...k,title:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-[#D4AF37] uppercase tracking-wider mb-2",children:"Page Slug (URL)"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g. /ancient-secrets",className:"w-full bg-white/5 border border-[#D4AF37]/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#D4AF37]",value:k.slug,onChange:e=>S({...k,slug:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-xs font-black text-[#D4AF37] uppercase tracking-wider",children:"Initial Assets (Optional)"}),(0,t.jsxs)("div",{className:"border border-dashed border-[#D4AF37]/20 rounded-xl p-4 text-center",children:[(0,t.jsx)("input",{type:"file",id:"add-page-files",className:"hidden",multiple:!0,onChange:e=>C(Array.from(e.target.files||[]))}),(0,t.jsx)("label",{htmlFor:"add-page-files",className:"cursor-pointer text-sm text-gray-400 hover:text-[#D4AF37] transition-colors",children:P.length>0?`${P.length} files selected`:"Click to select files"})]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#111] border-t border-[#D4AF37]/20 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>A(!1),className:"px-6 py-2 border border-[#D4AF37]/20 text-gray-400 rounded-lg hover:bg-white/5 transition-all text-xs uppercase font-bold",children:"Cancel"}),(0,t.jsx)("button",{onClick:$,disabled:w||!k.title||!k.slug,className:"px-6 py-2 bg-[#D4AF37] text-black font-bold rounded-lg hover:shadow-[0_0_15px_#D4AF37]/40 transition-all uppercase text-xs disabled:opacity-50",children:w?"Processing...":"Scribe Page"})]})]})})]})}function c({title:e,value:s,icon:a}){return(0,t.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#D4AF37]/20 p-6 rounded-xl relative overflow-hidden group hover:border-[#D4AF37]/50 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("span",{className:"text-4xl",children:a}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm font-medium tracking-wide uppercase text-[10px]",children:e}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:s})]})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-transparent via-[#D4AF37]/50 to-transparent w-full opacity-0 group-hover:opacity-100 transition-opacity"})]})}function x({status:e}){let s={published:"bg-green-500/10 text-green-500 border-green-500/20",draft:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",inactive:"bg-red-500/10 text-red-500 border-red-500/20"}[e]||"bg-gray-500/10 text-gray-500 border-gray-500/20";return(0,t.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${s} uppercase tracking-wider`,children:e})}e.s(["default",()=>n])},27510,e=>{e.v(t=>Promise.all(["static/chunks/54ab083194d7bfbe.js"].map(t=>e.l(t))).then(()=>t(48323)))}]);